<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			span{
				display: block;
				height: 10px;
				width: 10px;
				border-radius: 50%;
				background: cadetblue;
				position: absolute;
				top: 0;
				left: 0;
			}
			.tool{
				position: fixed;
				top: 0;
				left: 0;
				z-index: 1;
			}
		</style>
	</head>
	<body>
		<div class="tool">
			<button id="plus">+</button>
			<button id="minu">-</button>
			<select name="" id="penColor">
				<option value="red">红色</option>
				<option value="blue">蓝色</option>
				<option value="green">绿色</option>
			</select>
			<button id="eraser" state='false'>橡皮擦</button>
		</div>
		<span></span>
	</body>
	<script type="text/javascript" src="js/myQuery.js" ></script>
	<script type="text/javascript">
//		document.onmousemove=function(ev){
//			var newEv=ev||event;
//			var cX=newEv.clientX;
//			var cY=newEv.clientY;
//			var oSpan=document.createElement('span');
//			oSpan.setAttribute('style','left:'+cX+'px;top:'+cY+'px;');
//			document.body.appendChild(oSpan);
//		}
		
//		新功能:画笔粗细(增加与减小),画笔颜色,橡皮擦
		var pen=10;
		$('plus').onclick=function(){
			pen+=10;
		}
		
		$('minu').onclick=function(){
			pen-=10;
		}
		
//		橡皮擦的开关代码
		$('eraser').onclick=function(){
			var newS=$('eraser').getAttribute('state');
			if(newS=='false'){
//				newS='true';
				$('eraser').setAttribute('state','true');
			}else{
				$('eraser').setAttribute('state','false');
			}
		}

		document.onmousemove=function(ev){
			var newEv=ev||event;
			var cX=newEv.clientX;
			var cY=newEv.clientY;
			var s=$('eraser').getAttribute('state');
			if(s=='false'){
				var oSpan=document.createElement('span');
				oSpan.setAttribute('style','left:'+cX+'px;top:'+cY+'px;'+'width:'+pen+'px;height:'+pen+'px;'+'background:'+$('penColor').value+';');
				document.body.appendChild(oSpan);
			}else{
				var aSpan=document.getElementsByTagName('span');
				for(var i=0;i<aSpan.length;i++){
					aSpan[i].onmouseover=function(){
						document.body.removeChild(this);
					}
//					var t=aSpan[i].offsetTop;
//					var l=aSpan[i].offsetLeft;
//					if(cY>t && cY<t+10 && cX>l && cX<l+10){
//						document.body.removeChild(aSpan[i]);
//					}
				}
			}
		}
		
//		function eraserFn(){
//			var aSpan=document.getElementsByTagName('span');
//			
//		}
	</script>
</html>
