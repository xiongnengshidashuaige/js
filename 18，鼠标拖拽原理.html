<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			img{
				height: 100px;
				position: fixed;
				top: 0;
				left: 0;
			}
			#menu{
				height: 300px;
				width: 150px;
				background: pink;
				display: none;
				position: fixed;
				top: 0;
				left: 0;
			}
		</style>
	</head>
	<body style="height: 2000px;">
		<img id="pic" src="img/box_bg.png"/>
		<div id="menu"></div>
	</body>
	<script type="text/javascript" src="js/myQuery.js" ></script>
	<script type="text/javascript">
//		1,拖拽过程中的三个动作
//			onmousedown(添加move事件)
//			onmousemove(改变元素的top,left)
//			onmouseup (清除move事件)
		$('pic').onmousedown=function(ev){
			var newEv=ev||event;
			var beginY=newEv.clientY - ($('pic').offsetTop);  //保存鼠标点击瞬间，鼠标指针相对于元素上边缘的偏移量
			var beginX=newEv.clientX - ($('pic').offsetLeft);
//			console.log(beginY);
			document.onmousemove=function(ev){
				var newEv=ev||event;
				var T=newEv.clientY-beginY;
				var L=newEv.clientX-beginX;
				$('pic').setAttribute('style','top:'+T+'px;left:'+L+'px;');
			};
			
			document.onmouseup=function(){
				this.onmousemove=null;
			}
			return false;
		}
	</script>
</html>
